{
  "version": "1.8.0-dmp-two-page-lock",
  "pdf": {
    "rendering": {
      "sourceOfTruth": "ui",
      "noNewMath": true,
      "bindStrategy": "byKey",
      "interpolateStrings": true,
      "fallbackNullToEmpty": true
    },
    "dataBindings": {
      "brand": { "logoUrl": ["ui.brand.logoUrl", "ui.brand.logo", "ui.logoUrl", "logoBase64"] },
      "meta": {
        "reportId": ["ui.report.id", "report.id"],
        "reportDate": ["ui.report.dateISO", "report.createdAtISO"]
      },
      "customerInfo": {
        "title": ["ui.sections.customerInformation.title", "'Customer Information'"],
        "rows": ["ui.sections.customerInformation.rows"]
      },
      "inputParams": {
        "title": ["ui.sections.inputParameters.title", "'Input Parameters'"],
        "rows": ["ui.sections.inputParameters.rows"]
      },
      "liveVolume": {
        "title": ["ui.sections.liveVolumeBreakdown.title", "'Live Volume Breakdown'"],
        "note":  ["ui.sections.liveVolumeBreakdown.note", "ui.orderOfOperationsText"],
        "rows":  ["ui.sections.liveVolumeBreakdown.rows"]
      },
      "monthlySavings": {
        "title": ["ui.sections.monthlyProcessingSavings.title", "'Monthly Processing Savings'"],
        "rows": [
          "ui.sections.monthlyProcessingSavings.rows",
          "ui.monthlySavings.items"
        ]
      }
    },
    "theme": {
      "colors": {
        "brandUltramarine": "#0046FF",
        "brandAqua": "#1CD3D3",
        "brandSpruce": "#0A7A64",
        "brandInk": "#0F172A",
        "mutedInk": "#334155",
        "border": "#E5E7EB",
        "panel": "#FFFFFF",
        "subtle": "#F8FAFC"
      },
      "typography": {
        "fontFamily": "Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif",
        "h1": { "size": 18, "weight": 800, "color": "brandInk" },
        "h2": { "size": 14, "weight": 700, "color": "brandInk" },
        "h3": { "size": 12, "weight": 700, "color": "brandInk" },
        "label": { "size": 10, "weight": 600, "color": "brandInk" },
        "value": { "size": 10, "weight": 600, "color": "brandInk" },
        "fine":  { "size": 9,  "weight": 400, "color": "mutedInk" }
      },
      "layout": {
        "pageWidthIn": 8.5,
        "pageHeightIn": 11,
        "marginIn": 0.5,
        "gridGap": 10,
        "cardPadding": 12
      },
      "borders": { "radius": 10, "hairline": "1px solid #E5E7EB" }
    },
    "formatting": {
      "currency": { "decimals": 2, "thousands": true, "style": "leadingMinus", "symbol": "$", "align": "right" },
      "percent":  { "decimals": 2, "suffix": "%", "thousands": false, "style": "leadingMinus", "align": "right" },
      "normalizePercent": { "mode": "auto", "thresholdGtOneTreatAsPercent": true },
      "tabularNumbers": true
    },
    "pages": [
      {
        "name": "Summary",
        "header": {
          "title": "<div class='hdr-flex'><div class='hdr-left'><img class='brand-logo' src='{{ brand.logoUrl }}' alt='DMP Logo'/><div class='doc-title'>Processing Savings Analysis&nbsp;&nbsp;&nbsp;<span style='font-size: 10pt; font-weight: 400; color: #666;'>Report # {{ meta.reportId }}&nbsp;&nbsp;|&nbsp;&nbsp;{{ meta.reportDate }}</span></div></div></div>",
          "left": "",
          "right": "",
          "showOnPage": 1
        },
        "layout": { "columns": 12, "gap": 10 },
        "body": [
          {
            "type": "card",
            "colSpan": 12,
            "title": "<span class='title-bar ultramarine'></span><span class='title-text'>{{ customerInfo.title }}</span>",
            "table": {
              "cols": [
                { "key": "label", "title": "Field", "align": "left" },
                { "key": "value", "title": "Value", "align": "right" }
              ],
              "rowsFrom": [{ "from": "customerInfo.rows" }],
              "valueFormatHintKey": "format"
            }
          },
          {
            "type": "card",
            "colSpan": 12,
            "title": "<span class='title-bar spruce'></span><span class='title-text'>{{ inputParams.title }}</span>",
            "table": {
              "cols": [
                { "key": "label", "title": "Input", "align": "left" },
                { "key": "value", "title": "Value", "align": "right" }
              ],
              "rowsFrom": [{ "from": "inputParams.rows" }],
              "valueFormatHintKey": "format"
            }
          }
        ],
        "footer": { "left": "This quote is provided as an estimate of potential savings only. Actual results may vary.", "right": "© DMP — Confidential", "divider": true }
      },
      {
        "name": "Details",
        "header": { "title": "", "left": "", "right": "", "showOnPage": 0 },
        "layout": { "columns": 12, "gap": 10 },
        "body": [
          {
            "type": "card",
            "colSpan": 12,
            "title": "<span class='title-bar ultramarine'></span><span class='title-text'>{{ liveVolume.title }}</span>",
            "note": "{{ liveVolume.note }}",
            "table": {
              "cols": [
                { "key": "label", "title": "Label", "align": "left" },
                { "key": "value", "title": "Amount", "align": "right" }
              ],
              "rowsFrom": [{ "from": "liveVolume.rows" }],
              "valueFormatHintKey": "format"
            },
            "surface": "subtle"
          },
          {
            "type": "card",
            "colSpan": 12,
            "title": "<span class='title-bar spruce'></span><span class='title-text'>{{ monthlySavings.title }}</span>",
            "table": {
              "cols": [
                { "key": "label", "title": "Item", "align": "left" },
                { "key": "value", "title": "Value", "align": "right" }
              ],
              "rowsFrom": [{ "from": "monthlySavings.rows" }],
              "valueFormatHintKey": "format"
            }
          }
        ],
        "footer": { "left": "This quote is provided as an estimate of potential savings only. Actual results may vary.", "right": "© DMP — Confidential", "divider": true }
      }
    ]
  },
  "styles": {
    "globalCss": "body{font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;color:#0F172A} .num{text-align:right;font-variant-numeric:tabular-nums} .page{page-break-after:always;page-break-inside:avoid} .page:last-child{page-break-after:auto} .header-section{margin-bottom:2pt} .page-header{margin-bottom:2pt} .hdr-flex{display:flex;align-items:flex-end;justify-content:space-between;gap:12pt} .hdr-left{display:flex;align-items:flex-end;gap:10pt;min-width:0} .brand-logo{height:36pt;max-height:36pt;display:block} .doc-title{font-size:14pt;font-weight:700;line-height:1.2;color:#0F172A;flex-shrink:1} .hdr-right{display:flex;flex-direction:column;align-items:flex-end;gap:2pt;flex-shrink:0} .report-chip{background:#F1F5F9;border-radius:4pt;padding:2pt 8pt;font-size:8pt;color:#334155;white-space:nowrap;min-width:90pt;text-align:center} .title-bar{display:inline-block;width:4pt;height:14pt;border-radius:2pt;margin-right:8pt;vertical-align:middle} .title-bar.ultramarine{background:#0046FF} .title-bar.spruce{background:#0A7A64} .title-text{font-size:12pt;font-weight:700;color:#0F172A;vertical-align:middle} .card{margin-bottom:8pt!important} tr.highlight{background:#FFFBEB!important;font-weight:700} tr.highlight td{color:#059669!important;font-weight:700!important} tr:has(td:contains('Monthly Savings')){background:#10B981!important} tr:has(td:contains('Monthly Savings')) td{color:#FFFFFF!important;font-weight:700!important} tr:has(td:contains('Monthly Savings')) td:last-child{font-size:14pt!important} tr:has(td:contains('Annual Savings')){background:#0A7A64!important} tr:has(td:contains('Annual Savings')) td{color:#FFFFFF!important;font-weight:700!important} tr:has(td:contains('Annual Savings')) td:last-child{font-size:14pt!important} .page-footer{font-size:8pt;color:#64748B;font-style:italic;padding-top:10pt;border-top:1px solid #E2E8F0}",
    "formatters": {
      "money":  { "fn": "n => { const v=Number(n); if(!isFinite(v)) return '—'; const s=v<0?'- ':''; return `${s}$${Math.abs(v).toLocaleString(undefined,{minimumFractionDigits:2,maximumFractionDigits:2})}` }" },
      "percent":{ "fn": "n => { const v=Number(n); if(!isFinite(v)) return '—'; return `${(v*100).toFixed(2)}%` }" },
      "number": { "fn": "n => { const v=Number(n); if(!isFinite(v)) return '—'; return v.toLocaleString() }" }
    },
    "valueRenderer": {
      "fn": "(row)=>{ if(!row) return '—'; if(row.format==='money') return FORMAT.money(row.value); if(row.format==='percent') return FORMAT.percent(row.value); if(row.format==='number') return FORMAT.number(row.value); return row.value ?? '—'; }"
    }
  },
  "guards": { "hideEmptyRows": true }
}